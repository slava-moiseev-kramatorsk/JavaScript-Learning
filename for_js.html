<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="main.js"></script>
    <h1 id="hel">Hello</h1>
    <h1 id="pal">Palmo</h1>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<input type="button" value="Press me" name="a" OnClick="a()">
<input type="text" id ='inp' value="Hello Palmo">
<button type="button"  id = "hello"   onClick="b()">Button</button>
<div class="d-flex">
     <input type="text" id="th" value="on console">
    <button type="button" onclick="c()">Press me pls</button>
</div>
<button type="button" onclick="header()">Button on header</button>
<div >
    <p id="div1" class="text">Тут какой-то текст</p>
</div>
<div>
    <input type="text" id="dis">
    <button type="button" onclick="d()">Press me again</button>
</div>
<div class="sqr">
    <div class="sqr1"></div>
    <div class="sqr2"></div>
</div>
<button type="button"  onclick="swap()">Change color of square</button>
<div>
    <ul id="ul"></ul>
    <button type="button" onclick="create()">Press to create new "li"</button>
</div>
<div>
    <textarea id="fruits">
        яблоко,груша,помидор,апельсин,манго
    </textarea>
    <ul id="mainUl"></ul>
    <button type="button" onclick="parse()">Sort fruits</button>

    <form>
        <div>
            <label>Логин</label>
            <input type="text" id="login">
            <label class="invisible-label" id="under-log">Неверный ввод</label>
        </div>
        <div>
            <label>Пароль</label>
            <input type="text" id="password">
            <label class="invisible-label" id="under-password">Неверный ввод</label>
        </div>
        <div>
            <label>Повторите пароль</label>
            <input type="text" id="repeatPassword">
            <label class="invisible-label" id="under-password1">Неверный ввод</label>

        </div>
        <div>
            <label>Возраст</label>
            <input type="text" id="age">
            <label class="invisible-label" id="under-age">Неверный возраст</label>
        </div>
        <div>
            <label>E-mail</label>
            <input type="text" id="mail">
            <label class="invisible-label" id="under-mail">Неворный ввод</label>
        </div>
        <button type="button" id="registration" onclick="newAccount()">Зарегестрироваться</button>
    </form>
</div>
<script>
    function a()
    {
        alert(" Hello Palmo");
    }
    function b()
    {
        let change =  document.getElementById('inp');
            change.value = 'Hello World';
    }
    function c(){
        let consol = document.getElementById('th');
        console.log(consol.value);
    }
    function header(){
        let head1 = document.getElementById('hel');
        let head2 = document.getElementById('pal');
        let hed = head1.textContent;
        head1.textContent = head2.textContent;
        head2.textContent = hed;

        let text1 = document.getElementById('div1');
        text1.style.color = "red";
    }
    function d(){
        let block = document.getElementById('dis');
        block.disabled = true;
    }
    function swap(){
        let swap1 = document.querySelector("div.sqr1");
        let swap2 = document.querySelector("div.sqr2");
        swap1.className = 'sqr2';
        swap2.className = 'sqr1';
    }
    function create(){
         let mainUl = document.getElementById('ul');
         let plus1 = document.createElement('li');
         mainUl.prepend(plus1);
    }
    function parse(){
        let newUl = document.getElementById('fruits').value.split(",");
        let ul = document.getElementById('mainUl');
        for (let i = 0; i < newUl.length; i++) {
            let li = document.createElement('li');
            ul.append(li);
            li.innerHTML = newUl[i];
        }
    }
    function newAccount(){
        let log = document.getElementById('login').value.split('');
        let l = document.getElementById('login');
        let invisibleLogin = document.getElementById('under-log');
        for (let i = 0; i < log.length; i++) {                                          //логин
            if (log.length < 4 || log.length > 20) {
            l.className = 'wrong';
            invisibleLogin.className = 'show-label';
        }
            if (log[i] === "." || log[i] ==="." || log[i] ==="/" || log[i] === " \ " || log[i] === "|") {
                log.className = 'wrong';
                invisibleLogin.className = 'show-label';
            }
        }
        l.value = '';

        let userAge = document.getElementById('age');
        let invisibleAge = document.getElementById('under-age');                        //возраст
        if (!userAge || !isNaN(userAge) || userAge <= 0){
            userAge.className = 'wrong';
            invisibleAge.className = 'show-label';
        }
        userAge.value = '';

        let passw = document.getElementById('password').value.split('');
        let wrongPassword = document.getElementById('password');
        let invisiblePassword = document.getElementById('under-password');
        let count = 0;

        for (let i = 0; i < passw.length; i++) {                                          //пароль
            if (passw.length < 6 || !passw){
                wrongPassword.className = 'wrong';
                invisiblePassword.className = 'show-label';
            }
            if (isFinite(passw[i])){
                count++;
            }
        }

        if (count === 0){
                wrongPassword.className = 'wrong';
                invisiblePassword.className = 'show-label';
            }
        wrongPassword.value = '';

        let repPass = document.getElementById('repeatPassword');
        let repaetPass = document.getElementById('repeatPassword');                       //повтор пароля
        let repPassword = document.getElementById('under-password1');               // for label
        console.log("work");
        if (repPass !== wrongPassword){
            console.log("not ok");
            repPass.className = 'wrong';
            repPassword.className = 'show-label';
            repPassword.className = 'show-label';
        } else {

            console.log("ok");   // проверка

        }

        repaetPass.value = '';
        console.log("check");

        let e_mail = document.getElementById('mail').value.split('');
        let wrongMail = document.getElementById('mail');
        let invisibleMail = document.getElementById('under-mail');
        let countMail = 0;                                                             // эл.адрес
        for (let i = 0; i < e_mail.length; i++) {
            if (e_mail[i] === "@"){
                countMail++;
                return countMail;
            }
            if (!e_mail){
                wrongMail.className = 'wrong';
                invisibleMail.className = 'show-label';
            }
        }
        if (countMail === 0){
            wrongMail.className = 'wrong';
            invisibleMail.className = 'show-label';
        }
       e_mail.value = '';
    //
    //     const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
    //
    //     const login = document.getElementById('login');
    //     const email = document.getElementById('email');
    //     const age = document.getElementById('age');
    //     const password = document.getElementById('password');
    //     const formBtn = document.getElementById('butt-form');
    //
    //     const successAlert = document.querySelector('.success-alert');
    //
    //     const errorLogin = document.querySelector('.error-login');
    //     const errorEmail = document.querySelector('.error-email');
    //     const errorAge = document.querySelector('.error-age');
    //     const errorPassword = document.querySelector('.error-password');
    //
    //     let errors = {};
    //
    //     formBtn.onclick = function () {
    //         errors = {};
    //         errorLogin.style.display = errorEmail.style.display = errorAge.style.display = errorPassword.style.display = 'none';
    //         login.style.border = email.style.border = age.style.border = password.style.border = '';
    //
    //         if (validateForm(login, email, age, password)) {
    //             successAlert.style.display = 'block';
    //             successAlert.innerText = 'Успешно!';
    //             login.value = email.value = age.value = password.value = '';
    //         } else {
    //             if (errors.login) {
    //                 errorLogin.style.display = 'block';
    //                 errorLogin.innerText = errors.login;
    //                 login.style.border = '2px solid red';
    //             }
    //
    //             if (errors.email) {
    //                 errorEmail.style.display = 'block';
    //                 errorEmail.innerText = errors.email;
    //                 email.style.border = '2px solid red';
    //             }
    //
    //             if (errors.age) {
    //                 errorAge.style.display = 'block';
    //                 errorAge.innerText = errors.age;
    //                 age.style.border = '2px solid red';
    //             }
    //
    //             if (errors.password) {
    //                 errorPassword.style.display = 'block';
    //                 errorPassword.innerText = errors.password;
    //                 password.style.border = '2px solid red';
    //             }
    //         }
    //     }
    //
    //     function validateForm(login, email, age, password) {
    //         return isCorrectLogin(login) && isCorrectEmail(email) && isCorrectAge(age) && isCorrectPassword(password);
    //     }
    //
    //
    //     function isCorrectLogin(login) {
    //         if ((login.value.length >= 4 && login.value.length <= 20) && isSymbolsEmpty(login.value)) {
    //             return true;
    //         }
    //
    //         errors.login = 'Логин должен быть не менее 4 и не более 20 символов, и не содержать знаки';
    //
    //         return false;
    //     }
    //
    //     function isSymbolsEmpty(value) {
    //         if (
    //             value.includes('.')
    //             || value.includes('_')
    //             || value.includes('/')
    //             || value.includes('\\')
    //             || value.includes(',')
    //             || value.includes('|')
    //         ) {
    //             return false
    //         }
    //
    //         return true;
    //     }
    //
    //     function isCorrectEmail(email) {
    //         if (EMAIL_REGEXP.test(email.value)) {
    //             return true;
    //         }
    //
    //         errors.email = 'Некорректный email';
    //
    //         return false;
    //     }
    //
    //     function isCorrectAge(age) {
    //         if (age.value > 0) {
    //             return true;
    //         }
    //
    //         errors.age = 'Возраст должен быть числом и не быть отрицательным';
    //
    //         return false;
    //     }
    //
    //     function isCorrectPassword(password) {
    //         password = password.value;
    //         const uppers = /[A-Z]/.test(password); // Есть хотя бы одна буква в верхнем регистре
    //         const numbers = /\d/.test(password); // Есть хотя бы одна цифра
    //         const onlyLatin = /^[A-Za-z\d]{6,}$/.test(password); //Минимум бы 6 цифр
    //
    //         if (uppers && numbers && onlyLatin) {
    //             return true;
    //         }
    //
    //         errors.password = 'Пароль должен содержать хотя бы одну заглавную букву и одну цифру и быть не менее 6 символов';
    //
    //         return false;
    //     }
     }

</script>
</body>
</html>